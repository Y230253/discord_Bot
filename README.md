# Discordタイピングゲームボット

## 概要
このDiscordボットは、サーバー内でタイピングゲームを楽しむための機能を提供します。参加者同士でタイピングスピードを競い、ポイントを獲得するシステムです。日本語の文章を正確に素早くタイプすることで得点を競います。

## 機能

### タイピングゲーム
- 複数人で参加可能なタイピングゲーム
- 3つの難易度レベル（初級・中級・上級）
- 10問の問題が連続で出題される
- 回答タイムの記録と最速記録の保存
- ポイントシステムによるランキング

### コマンド一覧
1. **`!cash`** - タイピングゲームを開始する
   - 参加人数の入力を求められます
   - 難易度を選択します（初級・中級・上級）

2. **`!time`** - 全問題の最速記録ランキングを表示

## ゲームの流れ
1. `!cash`コマンドでゲームを開始
2. 参加人数を入力
3. 難易度を選択（初級・中級・上級）
4. お題が表示されるので、正確に入力して送信
5. 正解者には回答時間と獲得ポイントが表示される
6. 最速で正解した人から順に5点、3点、1点が付与される
7. 全10問が終了すると、最終スコアが表示される
8. 120秒間回答がない場合、タイムアウトでゲーム終了

## 難易度について
- **初級**: 比較的短い単語や文章
- **中級**: やや長めの文章
- **上級**: 複雑な文章や特殊文字を含む難易度の高いお題

## セットアップ方法
1. 必要なパッケージをインストール: discord.py, sqlite3, dotenv
2. .envファイルにDiscordボットトークンを設定 (`DISCORD_TOKEN=xxxx`)
3. sentences.csvとデータベースが正しい場所にあることを確認
4. ボットを起動してDiscordサーバーに招待
## カスタム絵文字の設定
5. 必要に応じて、以下のカスタム絵文字IDを設定:
    ```python
    # カスタム絵文字ID設定
    correct = "<:emoji_name:1234567890>" # 正解用の絵文字
    miss = "<:emoji_name:0987654321>"    # 不正解用の絵文字
    ```
    - サーバーの絵文字IDは開発者モードで確認可能
    - デフォルトの絵文字でも動作します
## 注意事項
- タイピングは完全一致する必要があります（スペースや記号も正確に）
- 一度正解者が出ると、次の問題に進みます
- ゲーム中に再度`!cash`コマンドを実行すると、進行中のゲームはリセットされます

### ファイル構成
- `nishiping.py`: メインのボットプログラム
- `db_init.py`: データベース初期化スクリプト
- `sentences.csv`: タイピングのお題が格納されたファイル
- `typing_game.db`: スコアと記録を保存するSQLiteデータベース
